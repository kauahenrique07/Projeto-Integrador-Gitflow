<h1 mat-dialog-title>Editar Usu√°rio</h1>
<div mat-dialog-content>
  <form [formGroup]="editUserForm" (ngSubmit)="onSubmit()">
    <pre class="debug-output">{{ editUserForm.value | json }}</pre>
    <mat-form-field appearance="fill">
      <mat-label>Nome Completo</mat-label>
      <input matInput formControlName="name" required>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Departamento</mat-label>
      <mat-select formControlName="department">
        <mat-option *ngFor="let dept of departments" [value]="dept.id">{{ dept.name }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Cargo</mat-label>
      <mat-select formControlName="role">
        <mat-option *ngFor="let role of roles" [value]="role.id">{{ role.title }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Gestor</mat-label>
      <mat-select formControlName="manager">
        <mat-option value="0">N/A</mat-option>
        <mat-option *ngFor="let manager of managers" [value]="manager.id">{{ manager.name }}</mat-option>
      </mat-select>
    </mat-form-field>

    <div formArrayName="accessType" class="form-group">
      <label *ngFor="let type of accessTypes; let i = index">
        <input type="checkbox" [formControlName]="i"> {{type.viewValue}}
      </label>
    </div>

    <mat-form-field appearance="fill">
      <mat-label>Email</mat-label>
      <input type="email" matInput formControlName="email" required>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Senha</mat-label>
      <input type="password" matInput formControlName="password" required>
    </mat-form-field>

    <div class="form-group">
      <label for="needsPasswordChange">Necessita mudar a senha?</label>
      <input type="checkbox" id="needsPasswordChange" formControlName="needsPasswordChange">
    </div>

    <div mat-dialog-actions>
      <button mat-button type="submit">Salvar</button>
      <button mat-button type="button" (click)="onCancel()">Cancelar</button>
    </div>

  </form>
</div>
