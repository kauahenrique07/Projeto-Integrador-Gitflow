<div class="manager-evaluation-container">
  <img src="assets/images/23nobg.png" alt="Skillmap Logo" class="logo" />
  <h1 class="manager-evaluation-title">Selecione 10 competências individuais que representam:<br> {{assessment?.evaluateeName}}</h1>
  <p class="instructions">Selecione clicando sobre as competências. Para desmarcar, clique novamente.</p>

  <!-- Spinner de Carregamento -->
  <div *ngIf="isLoading" class="loading-spinner">Carregando...</div>

  <!-- Mensagem de Erro -->
  <div *ngIf="hasError" class="error-message">Ocorreu um erro ao carregar as competências. Por favor, tente novamente mais tarde.</div>

  <div *ngFor="let coreKey of getKeys(groupedSkills)" class="core-block">
    <h2 class="core-title">{{ coreKey }}</h2>
    <div class="core-skills">
      <div *ngFor="let skill of groupedSkills[coreKey]" class="manager-evaluation-card"
           [class.selected]="selectedSkills.includes(skill)" (click)="selectSkill(skill)">
        <div class="manager-evaluation-info">
          <h2 class="manager-evaluation-name">{{skill.quadrant}}</h2>
          <p class="manager-evaluation-due-date">{{ skill.description }}</p>
        </div>
      </div>
    </div>
  </div>


  <div class="selected-skills">
    <h2 class="selected-skills-title">Competências selecionadas</h2>
    <div *ngFor="let skill of selectedSkills" class="selected-skill">
      <p class="selected-skill-name">{{ skill.quadrant }}</p>
    </div>
  </div>

  <div class="action-buttons">
    <button type="button" class="manager-evaluation-button"
            [disabled]="selectedSkills.length != 10"
            (click)="onSubmit()">Finalizar Avaliação</button>
  </div>

</div>
